/////////////////////////////////////////////////////////////////////////////////////////
//
// File name 	: CWinSehExp.h
// Version 		: 0.0.1.0
// Brief 		: 
// Author 		: v.m.
// Create time 	: 23/1/2016 10:47:09
// Modify time 	: 23/1/2016 10:47:09
// Note 		:
//
/////////////////////////////////////////////////////////////////////////////////////////
//
// Copyright : this file is copyright by v.m.'s tools lib
//
/////////////////////////////////////////////////////////////////////////////////////////
// compile macro definition
#if defined (_MSC_VER) && (_MSC_VER >= 1300)
#pragma once
#endif

#ifndef __CWINSEHEXP_H__
#define __CWINSEHEXP_H__

/////////////////////////////////////////////////////////////////////////////////////////
// include file
#include "CWinSeh.h"
#include "CException.h"

/////////////////////////////////////////////////////////////////////////////////////////
// macro define

#define CEXP_SEH( wSeh )                                                    JL::CWinSehExp( wSeh, __FUNCTION__, __LINE__,__FILE__, NULL )
#define CEXP_SEH_F( wSeh, szFunc )                                          JL::CWinSehExp( wSeh, szFunc, __LINE__,__FILE__, NULL )
#define CEXP_SEH_T( wSeh, szTime )                                          JL::CWinSehExp( wSeh, __FUNCTION__, __LINE__,__FILE__, szTime )
#define CEXP_SEH_FT( wSeh, szFunc, szTime )                                 JL::CWinSehExp( wSeh, szFunc, __LINE__,__FILE__, szTime )

/////////////////////////////////////////////////////////////////////////////////////////
// namespace 
namespace JL{

/////////////////////////////////////////////////////////////////////////////////////////
//
// class define : CWinSehExp
//        Notes : 此类将生成的SEH对象转换为自定义的异常对象
//
/////////////////////////////////////////////////////////////////////////////////////////
class CWinSehExp : public JL::CException
{
/////////////////////////////////////////////////////////////////////////////////////////
// Construct & Destruct :
public:
    // Construct define
    CWinSehExp( CWinSeh& seh,
        const char* szFunc = "func", 
        const unsigned long culLine = __LINE__,
        const char* szFile = __FILE__,
        const char* szTime = NULL );
    // Destruct define
    virtual ~CWinSehExp(){};          

}; // End of class CWinSehExp
/////////////////////////////////////////////////////////////////////////////////////////

/////////////////////////////////////////////////////////////////////////////////////////
} // End of namespace JL
/////////////////////////////////////////////////////////////////////////////////////////
#endif // __CWINSEHEXP_H__
/////////////////////////////////////////////////////////////////////////////////////////
// End of file CWinSehExp.h
/////////////////////////////////////////////////////////////////////////////////////////
