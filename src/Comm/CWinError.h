/////////////////////////////////////////////////////////////////////////////////////////
//
// File name 	: CWinError.h
// Version 		: 0.0.0.1
// Brief 		: 
// Auther 		: v.m.
// Create time 	: 5/12/2015 12:55:52
// Modify time 	: 5/12/2015 12:55:52
// Note 		:
//
/////////////////////////////////////////////////////////////////////////////////////
//                  windows 错误代码定义
//-----------------------------------------------------------------------------------
//   位  ：     | 31 - 30  |    29     |  28  |       27 - 16       |         15 -0
//-----------------------------------------------------------------------------------
// 二进制：     |   00     |     0     |  0   |  0000 0000 0000     | 0000 0000 0000 0000
//-----------------------------------------------------------------------------------
//                 严重性  | 系统/用户 | 保留 |      设备代码       |        异常代码
//                 -------------------------------------------------------------------
//                 0=成功  |  0=系统   |  0   |      系统定义       |      系统/客户定义
//                 1=供参考|  1=客户   |      |                     |
//                 2=警告  |           |      |                     |
//                 3=错误  |           |      |                     |
/////////////////////////////////////////////////////////////////////////////////////
// 十六进制表示：
//    30-31 严重性：   成  功：0x00000000
//                     供参考：0x40000000
//                     警  告：0x80000000
//                     错  误：0xc0000000
//    29    系  统:    系  统：0x00000000
//                     客  户：0x20000000
//
/////////////////////////////////////////////////////////////////////////////////////////
//
// Copyright : this file is copyright by Julong Co.LTD
//
/////////////////////////////////////////////////////////////////////////////////////////
// compile macro definition
#if defined (_MSC_VER) && (_MSC_VER >= 1300)
#pragma once
#endif

#ifndef __CWINERROR_H__
#define __CWINERROR_H__

/////////////////////////////////////////////////////////////////////////////////////////
// include file
#ifndef _WINDOWS_
#   include <windows.h>
#endif

#include "CError.h"

/////////////////////////////////////////////////////////////////////////////////////
//
// class define : CWinError
//        Notes : 此类封装了window错误代码及错误信息的获取操作
//
/////////////////////////////////////////////////////////////////////////////////////
class CWinError : public CError
{
/////////////////////////////////////////////////////////////////////////////////////
// functions :
public:
    CWinError( const DWORD cdwError=GetLastError() )
        : CError(cdwError){};			                        // Construct define
	~CWinError(){};			                                    // Destruct define
public:
    virtual const char* ToString();                             // 获取错误描述

/////////////////////////////////////////////////////////////////////////////////////////
// static functions:
public:
    DWORD GetErrorCode();                                // 获取错误代码
    const char* GetErrorInfo( void );                    // 获取错误描述

}; // End of class CWinError
/////////////////////////////////////////////////////////////////////////////////////
 
/////////////////////////////////////////////////////////////////////////////////////////
#endif // __CWINERROR_H__
/////////////////////////////////////////////////////////////////////////////////////////
// End of file CWinError.h
/////////////////////////////////////////////////////////////////////////////////////////