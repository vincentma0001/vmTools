/////////////////////////////////////////////////////////////////////////////////////////
//
// File name 	: CFileMapping.h
// Version 		: 1.0.0.0
// Brief 		: 
// Auther 		: v.m.
// Create time 	: 20/9/2016 13:32:10
// Modify time 	: 20/9/2016 13:32:10
// Note 		:
//
/////////////////////////////////////////////////////////////////////////////////////////
//
// Copyright : this file is copyright by Julong Co.LTD
//
/////////////////////////////////////////////////////////////////////////////////////////
// compile macro definition
#if defined (_MSC_VER) && (_MSC_VER >= 1300)
#pragma once
#endif

#ifndef __CFILEMAPPING_H__
#define __CFILEMAPPING_H__

/////////////////////////////////////////////////////////////////////////////////////////
// include file
#ifndef _WINDOWS_
#	error this file need #include <windows.h>
#endif

/////////////////////////////////////////////////////////////////////////////////////////
// using namespace

/////////////////////////////////////////////////////////////////////////////////////////
// class release 

/////////////////////////////////////////////////////////////////////////////////////////
// Todo : add application
/////////////////////////////////////////////////////////////////////////////////////////
//
// class define : CFileMapping
//        Notes : ## add class brief here ##
//
/////////////////////////////////////////////////////////////////////////////////////////
class CFileMapping
{
/////////////////////////////////////////////////////////////////////////////////////////
// type define :

/////////////////////////////////////////////////////////////////////////////////////////
// data members :
private:
	HANDLE	m_hFileHandle;
	LPVOID	m_pViewOfFile;
	int		m_nFileSize;
	int		m_nFileHeadOffset;
	unsigned long m_ulDatelen;

/////////////////////////////////////////////////////////////////////////////////////////
// interface define :

/////////////////////////////////////////////////////////////////////////////////////////
// Construct && Destruct
public:
	CFileMapping();;											// Construct define
	~CFileMapping();;											// Destruct define
private:
	CFileMapping(const CFileMapping& obj ){};					// No Copy
	CFileMapping& operator = ( const CFileMapping& obj ){}		// No Assignment

/////////////////////////////////////////////////////////////////////////////////////////
// Functions :
public:
	bool Initialize(LPCTSTR pFileName, int pFileSize);
	void Write(char* pData, unsigned int uiDataLen);
	unsigned long Read(char* pBuffer, unsigned long uiBufLen, unsigned long ulOffset);
	unsigned int GetDataLen();;
	void Reset();

}; // End of class CFileMapping
///////////////////////////////////////////////////////////////////////////////////////// 


/////////////////////////////////////////////////////////////////////////////////////////
#endif // __CFILEMAPPING_H__
/////////////////////////////////////////////////////////////////////////////////////////
// End of file CFileMapping.h
/////////////////////////////////////////////////////////////////////////////////////////