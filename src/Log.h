/////////////////////////////////////////////////////////////////////////////////////////
//
// File name 	: Log.h
// Version 		: 1.0.0.0
// Brief 		: 
// Auther 		: v.m.
// Create time 	: 8/3/2016 7:47:42
// Modify time 	: 8/3/2016 7:47:42
// Note 		:
//
/////////////////////////////////////////////////////////////////////////////////////////
//
// Copyright : this file is copyright by Julong Co. LTD
//
/////////////////////////////////////////////////////////////////////////////////////////

#ifndef _LOG_H_
#define _LOG_H_

/////////////////////////////////////////////////////////////////////////////////////////
// include file
#include <string>
#include "Comm/CAtom.h"

/////////////////////////////////////////////////////////////////////////////////////////
// class release 
#define __FILEBASE__ GetFileBase()
const char* GetFileBase(const char* cszFileName /*= __FILE__ */);

// »’÷æ ‰≥ˆ∫Í
#define LOG_BEIGN( szFuncName )     CLog loLog( szFuncName, __LINE__, __FILEBASE__ );
#define LOG                         loLog.Log

/////////////////////////////////////////////////////////////////////////////////////////
// functions :

#define _MAX_LOG_ACCOUNT_ 9999
#define LOG_MAX_BUF 1024

/////////////////////////////////////////////////////////////////////////////////////////
//
// class define : CLog
//        Notes : ## add class brief here #
//
/////////////////////////////////////////////////////////////////////////////////////////
class CLog
{
/////////////////////////////////////////////////////////////////////////////////////////
// data members :
private:
    static CAtom    msoAtom;

private:
    long            mlAccount;
    
    long            mlBegineLine;
    std::string     mstrFuncName;
    std::string     mstrFileName;

/////////////////////////////////////////////////////////////////////////////////////////
// Construct & Destruct :
public:
	CLog( const char* cszFuncName, const long clLine=__LINE__, const char* cszFileName );		    // Construct define
	virtual ~CLog();                                                                                // Destruct define

public:
    void Log( const char* cszMsg, const long clLine, ... );

}; // End of class CLog
/////////////////////////////////////////////////////////////////////////////////////////

/////////////////////////////////////////////////////////////////////////////////////////
#endif _LOG_H_
/////////////////////////////////////////////////////////////////////////////////////////
// End of file Log.h
/////////////////////////////////////////////////////////////////////////////////////////