////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//
//  File Name   : CCycBuf.h
//  Version     : 1.0
//  Author      : v.m.
//  Create Time : 29-四月-2017 10:29:53 
//  Modify Time : 25-五月-2017 12:36:06
//  Notes       :
// 
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
// 
// This file is copyright by v.m.. all right has been reserved
//
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

#ifndef __CCYCBUF_H__
#define __CCYCBUF_H__

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
// include file


////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
// namespace 
namespace vm
{

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//
//     this is class for cycle buffer,  it's package a group operation of buffer read and write by cycle way.
//
class CCycBuf
{
/////////////////////////////////////////////////////////////////////////////////////////
// Note :
//     |-Buflen-|-Header-|-Tailer-|  -Data-  |
//       00 00    00 00    00 00    00 ~ 00
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
// functions:
public:
	CCycBuf();
	virtual ~CCycBuf();
	CCycBuf& operator = ( CCycBuf& obj );
public:
	void Initialize(unsigned char* pBuf, unsigned int uilen);
	unsigned int GetBufLen();
	unsigned int GetDataLen();
	unsigned int GetBufLeftLen(); 
public:
	int Read();
	int Seek();
	int Write();
	int Recover();

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
// members:
public:
	char* mpHeader;
	char* mpTailer;
protected:
	int* mpBufLen;			// 记录缓存区大小
private:
	char* mpBufHeader;			// 记录缓存区头地址
	char* mpBufTailer;			// 记录缓存区尾地址
}; // End of CCycBuf

} // end of namespace
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////


////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
#endif // #ifndef __CCYCBUF_H__
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////


////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
// Usage:
//       # Todo add usage note here #
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
// End of File 
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

